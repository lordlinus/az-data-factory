{
	"name": "dataflow1",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "UCL_Data",
						"type": "DatasetReference"
					},
					"name": "GermanDataSource"
				}
			],
			"sinks": [
				{
					"dataset": {
						"referenceName": "UCI_Data_Parquet",
						"type": "DatasetReference"
					},
					"name": "sink1"
				}
			],
			"transformations": [
				{
					"name": "Parse1"
				},
				{
					"name": "DerivedColumn1"
				},
				{
					"name": "Select1"
				}
			],
			"script": "source(output(\n\t\t{_col0_} as string\n\t),\n\tallowSchemaDrift: true,\n\tvalidateSchema: false,\n\tlimit: 100,\n\tignoreNoFilesFound: false,\n\trowUrlColumn: 'filename',\n\twildcardPaths:['UCI_data/']) ~> GermanDataSource\nGermanDataSource parse({_col0_} = {_col0_} ? (col1 as string,\n\t\tcol2 as integer,\n\t\tcol3 as string,\n\t\tcol4 as string,\n\t\tcol5 as integer,\n\t\tcol6 as string,\n\t\tcol7 as string,\n\t\tcol8 as integer,\n\t\tcol9 as string,\n\t\tcol10 as string,\n\t\tcol11 as integer,\n\t\tcol12 as string,\n\t\tcol13 as integer,\n\t\tcol14 as string,\n\t\tcol15 as string,\n\t\tcol16 as integer,\n\t\tcol17 as string,\n\t\tcol18 as integer,\n\t\tcol19 as string,\n\t\tcol20 as string,\n\t\tcol21 as integer),\n\tformat: 'delimited',\n\tcolumnNamesAsHeader: false,\n\tcolumnDelimiter: ' ',\n\tnullValue: '') ~> Parse1\nParse1 derive(each({_col0_}, match(type=='string'), $$+'_s' = trim(toString($$))),\n\t\teach(match(type=='integer'), $$+'_i' = trim($$))) ~> DerivedColumn1\nDerivedColumn1 select(mapColumn(\n\t\tfilename,\n\t\tcol1_s,\n\t\tcol3_s,\n\t\tcol4_s,\n\t\tcol6_s,\n\t\tcol7_s,\n\t\tcol9_s,\n\t\tcol10_s,\n\t\tcol12_s,\n\t\tcol14_s,\n\t\tcol15_s,\n\t\tcol17_s,\n\t\tcol19_s,\n\t\tcol20_s\n\t),\n\tskipDuplicateMapInputs: true,\n\tskipDuplicateMapOutputs: true) ~> Select1\nSelect1 sink(allowSchemaDrift: true,\n\tvalidateSchema: true,\n\tformat: 'parquet',\n\ttruncate: true,\n\tumask: 0022,\n\tpreCommands: [],\n\tpostCommands: [],\n\tskipDuplicateMapInputs: true,\n\tskipDuplicateMapOutputs: true) ~> sink1"
		}
	}
}